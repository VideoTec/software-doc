https://technet.microsoft.com/zh-cn/library/cc766465(v=ws.10).aspx

DiskPart 是一个 
Windows Vista、Windows® XP 和 Windows Server 2003® 家族中的文本模式命令解释程序。
使用此工具，可以通过使用脚本或直接在命令提示符下输入来管理对象（磁盘、分区或卷）。

在磁盘、分区或卷上使用 DiskPart 命令前，必须首先列出对象，然后选中该对象。
选中对象时，键入的所有 DiskPart 命令都适用于该对象。
通过使用 list disk、list volume 和 list partition 命令，
可以列出可用的对象并确定对象的编号或驱动器号。

list disk 命令和 
list volume 命令会显示计算机上的所有磁盘和卷。但是，
list partition 命令只显示磁盘上选中的分区。
使用 list 命令时，选中的对象旁边会显示一个星号 (*)。
按对象的编号或驱动器号对其进行选择，
例如，磁盘 0、分区 1、卷 3 或卷 C。
选择对象时，焦点一直停留在该对象上，直至选择其他对象。
例如，如果焦点设置在磁盘 0 上，然后选择磁盘 2 上的卷 8，
焦点就从磁盘 0 转移到磁盘 2 上的卷 8。
某些命令会自动更改焦点。
例如，创建新分区时，焦点会自动移至新分区。
只能将焦点放在已选中磁盘上的某个分区。
选中某个分区时，也会选中相关的卷（如果有）。
选中某个卷时，如果该卷映射到单个特定分区，则也会选中相关的磁盘和分区。
如果情形不是如此，则该磁盘和分区上的焦点就会消失。

将 DiskPart 命令用作脚本的一部分时，
建议将所有 DiskPart 操作一起作为单个 DiskPart 脚本的一部分来完成。
可以运行连续的 DiskPart 脚本，
但是在脚本之间必须至少有 15 秒的时间，
以便让前一个执行的脚本完全结束，然后在后续的脚本中再次运行 DiskPart 命令。
否则，连续脚本可能会运行失败。
可以在连续的 DiskPart 脚本之间添加暂停，
方法是将超时 /t 15 命令与 DiskPart 脚本一起添加到批处理文件中。