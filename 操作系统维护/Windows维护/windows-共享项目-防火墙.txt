如果 ping 不通，一般是由于防火墙引起的。

某Windows 7 机器可正常访问外网，但别人不能访问其共享的文件。
经排查，这是Windows 7 提供的网络防火墙把“文件与打印机共享”关闭导致的

这有三种办法可以设置：
一是直接关闭防火墙，但该方法不安全；
二是定制防火墙规则，不过这涉及的端口及规则比较多，容易出现错漏；
三是通过控制面板中的“家庭组和共享”选项直接选择，该方法可批量设置防火墙规则，简单易用
  即“更改高级共享设置”